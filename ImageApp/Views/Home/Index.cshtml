@{
    ViewData["Title"] = "Home Page";
}

@using ImageApp.DAL.Entities;
@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Mvc;
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager



@*@if (@TempData["SuccessMsg"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <strong>Success!</strong> @TempData["SuccessMsg"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}


@if (@TempData["ErrMsg"] != null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <strong>Error!</strong> @TempData["ErrMsg"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}*@


@*@if (SignInManager.IsSignedIn(User))
{   
        var user = await UserManager.GetUserAsync(User);

    if (await UserManager.IsInRoleAsync(user, "User"))
    {
        
        <div>
            <h3>Welcome, Admin!</h3>
            <p>You have special privileges.</p>
            <button>Delete User</button>
        </div>
    }
    else
    {
        <div>
            <h3>Welcome, User!</h3>
            <p>You have limited privileges.</p>
            <button disabled>Delete User</button>
        </div>
    }
}
else
{
    <div class="text-center">
        <h1 class="display-4">Welcome</h1>
        <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
    </div>
}*@


@{
    var currentUser = User.Identity.Name;
}

@if (User.IsInRole("User"))
{
    <p>Welcome, @currentUser!</p>
    <p>Other content for authenticated users...</p>
}
else
{
    <p>Not logged in</p>
}

